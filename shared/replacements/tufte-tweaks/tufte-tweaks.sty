
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{tufte-tweaks}[2011/09/01 Tweaks to make tufte-common work with exam.cls] 

% This is to ensure that 'tufte-common' is included before we proceed further
\RequirePackage{tufte-common} 
\RequirePackage{booktabs}

\unframedsolutions

\newlength\@tweak@pageheight
\setlength{\@tweak@pageheight}{\paperheight} 
\addtolength{\@tweak@pageheight}{-\voffset}

\providecommand{\mcq}{\stretch{1}} 
\providecommand{\halfpage}{\stretch{2}}
\providecommand{\fullpage}{\stretch{4}} 

% DocAuthor = (document == question_paper) ? student : teacher
\newcommand{\DocAuthor}[1]{\renewcommand{\plainauthor}{#1}}
\newcommand{\School}[1]{\renewcommand{\plainpublisher}{#1}}
\newcommand{\calculator}[1]{\texttt{Calculator}: ${#1}$}

\newcommand{\textoverline}[1]{$\overline{\mbox{#1}}$}

%% Commands to use either within a $...$ pair or a maths environment
\newcommand{\bayesf}[2]{P(\textit{#1} \,\vert\, \textit{#2})\cdot P(\textit{#2})} 
\newcommand{\bayesp}[2]{P(\textit{#1} \,\vert\, \textit{#2})}

%% Insert QR Codes only when generating question papers. There is no need 
% for them in the answer key. 
%% Also, when a question is initially written, we simply write \insertQR{}
% in the text file. This is replaced by a script after the question has 
% been pushed into the database and a unique code has been generated for it. 
\providecommand{\insertQR}[2][0pt]{
    \ifprintanswers
    \else
      \ifthenelse{\NOT\isempty{#2}}{
        \begin{marginfigure}
          \psbarcode[transy=#1,transx=0.4\marginparwidth]{#2}{eclevel=Q width=0.7 height=0.7}{qrcode} 
        \end{marginfigure}
      }{}
    \fi 
}

\newcommand{\dydx}{\dfrac{\ud y}{\ud x}}
\newcommand{\dnydxn}[1]{\dfrac{\ud^{#1} y}{\ud x^{#1}}}
\newcommand{\asif}{ as shown in the figure alongside}

%% Drawing xy-axis is a common operation for maths questions. 
%% So, define a macro for it. Note that the following are Tikz commands
%% Arguments ( in order from 1-4 ) : -X,+X,-Y,+Y 
\providecommand{\drawaxis}[4]{
   \draw[<->,color=black!30] (#1,0)--(#2,0) ;
   \draw[<->,color=black!30] (0,#3)--(0,#4) ;
   \path[color=black!30] (0,0) node[below right] {O} ;
}

%% For adding point labels to a diagram, given the coordinate and the label text
\providecommand{\labelpt}[4][above]{
   \path (#2,#3) node[#1] {#4} % no semi-colon. Specify that explicitlyi within 
   %tikzpicture environment - for consistency sake
} 
